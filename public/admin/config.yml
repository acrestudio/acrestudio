backend:
  name: 'git-gateway'
  repo: 'acrestudio/acrestudio.art'
  branch: 'master'
media_folder: 'public/images'
public_folder: '/images'

collections:
  - name: 'home'
    label: 'Home'
    delete: false
    editor:
      preview: false
    files:
      - name: 'general'
        label: 'Home'
        file: 'content/home.json'
        description: 'General site settings'
        fields:
          - label: 'Page title'
            name: 'title'
            widget: 'string'
          - label: 'Meta description'
            name: 'description'
            widget: 'string'
          - label: 'Meta image'
            name: 'image'
            widget: 'image'
            choose_url: false
          - label: 'Categories'
            name: 'categories'
            widget: 'list'
            fields:
              - label: 'Category Name'
                name: 'category'
                widget: 'relation'
                collection: 'categories'
                search_fields: ['title']
                value_field: '{{slug}}'
                display_fields: ['title']
          - label: 'Items'
            name: 'items'
            widget: 'list'
            fields:
              - label: 'Item Title'
                name: 'item'
                widget: 'relation'
                collection: 'items'
                search_fields: ['title']
                value_field: '{{slug}}'
                display_fields: ['title']

  - name: 'categories'
    label: 'Category'
    editor:
      preview: false
    folder: 'content/categories/'
    format: 'json'
    create: true
    summary: '{{title}}'
    fields:
      - label: 'Slug'
        name: 'slug'
        widget: 'string'
        hint: 'The part of the URL that explains the page’s content. Can’t be changed once set.'
        pattern: ['^[a-z0-9]+(?:-[a-z0-9]+)*$','A slug can have no spaces or special characters']
      - label: 'Name'
        name: 'title'
        widget: 'string'

  - name: 'items'
    label: 'Item'
    editor:
      preview: false
    folder: 'content/items/'
    extension: 'md'
    format: 'frontmatter'
    create: true
    summary: '{{title}} ({{category.title}}'
    fields:
      - label: 'Slug'
        name: 'slug'
        widget: 'string'
        hint: 'The part of the URL that explains the page’s content. Can’t be changed once set.'
        pattern: ['^[a-z0-9]+(?:-[a-z0-9]+)*$','A slug can have no spaces or special characters']
      - label: 'Title'
        name: 'title'
        widget: 'string'
      - label: 'Meta description'
        name: 'description'
        widget: 'string'
        required: false
      - label: 'Meta image'
        name: 'image'
        widget: 'image'
        choose_url: false
      - label: 'Category'
        name: 'category'
        widget: 'relation'
        required: false
        collection: 'categories'
        search_fields: ['title']
        value_field: '{{slug}}'
        display_fields: ['title']
      - label: 'Gallery'
        name: 'images'
        widget: 'image'
        required: false
        allow_multiple: true
      - label: "Text"
        name: "body"
        widget: "markdown"
        required: false